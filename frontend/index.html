<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    .textbox {
        display: flex;
        flex-direction: column;
        margin: 5px;
        background-color: rgb(167, 255, 141);
    }
    .textbox2 {
        display: flex;
        flex-direction: column;
        margin: 5px;
        background-color: rgb(141, 255, 249);
    }
    .username {
        font-weight: bold;
    }
</style>
<body>
    <ul id="msgs">Chat</ul>

    <input id="txt" placeholder="Insira sua msg!"/>
    <button id="send">Enviar</button>
</body>
<script src="/socket.io/socket.io.js"></script>
<script>
    var socket = io();
    const input = document.getElementById("txt")
    const btn = document.getElementById("send")
    const list = document.getElementById('msgs')

    btn.addEventListener("click", () => {
        if(input.value) {
            socket.emit("message", input.value);
            input.value = "";
        }
    })

    socket.on('message', (msg) => {
        let li = document.createElement('div')
        li.classList.add(msg.id != socket.id ? 'textbox' : 'textbox2');
        li.innerHTML = `
            <p class="username">${msg.id}</p>
            <p>${msg.msg}</p>
        `
        
        list.appendChild(li);
    })
</script>
</html>

<!-- captar o nome do socket q emitiu -->